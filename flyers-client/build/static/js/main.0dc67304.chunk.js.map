{"version":3,"sources":["flyers/actions.js","flyers/reducers.js","store.js","theme/theme.js","flyers/selectors.js","flyers/FavoriteList.js","img/avatar.png","common/Drawer.js","flyers/FlyerItemStyles.js","flyers/FlyerItem.js","img/f1.jpg","img/f2.jpg","img/f3.jpg","img/f4.jpg","img/f5.jpg","img/f6.jpg","customHooks/useInfiniteScroll.js","flyers/thunks.js","flyers/FlyersList.js","App.js","reportWebVitals.js","index.js"],"names":["TOGGLE_FAVORITE","ADVANCE_FLYER_PAGE","advanceFlyerPage","type","LOAD_FLYERS_IN_PROGRESS","LOAD_FLYERS_SUCCESS","loadFlyersSuccess","flyers","payload","LOAD_FLYERS_FAILURE","initialState","isLoading","data","page","reducers","state","action","concat","favoriteFlyers","flyer","isAlreadyFavorite","some","f","id","newState","filter","persistConfig","key","storage","stateReconciler","autoMergeLevel2","whitelist","rootReducer","combineReducers","persistedReducer","persistReducer","theme","createMuiTheme","palette","primary","main","typography","fontFamily","getFavoriteFlyers","getFlyersPage","getFlyersLoading","getPublishedFlyers","createSelector","useStyles","makeStyles","fullList","width","padding","listItem","paddingLeft","paddingRight","connect","classes","List","className","length","map","i","ListItem","button","disableGutters","ListItemIcon","ListItemText","title","list","drawerTop","fontSize","fontWeight","subTitle","avatar","marginBottom","LeftDrawer","React","useState","left","setState","toggleDrawer","anchor","open","event","Fragment","IconButton","edge","menuButton","color","aria-label","onClick","Drawer","onClose","drawer","role","onKeyDown","Avatar","alt","src","Typography","variant","Divider","FlyerItemStyles","root","height","display","flexWrap","flexDirection","media","cartContent","paddingBottom","retailer","letterSpacing","textTransform","category","cardActions","alignItems","marginTop","icon","paddingTop","possibleImage","imageNum","onFavoritePressed","Card","CardMedia","image","CardContent","CardActions","disableSpacing","useInfiniteScroll","scrollRef","dispatch","scrollObserver","useCallback","node","IntersectionObserver","entries","forEach","en","intersectionRatio","observe","useEffect","current","toggleFavorites","toggleFavorite","flexGrow","publishedFlyers","loadFlyers","a","fetch","response","json","ref","bottomBoundaryRef","useRef","Grid","container","spacing","index","xs","sm","item","style","LinearProgress","border","App","AppBar","position","Toolbar","Container","maxWidth","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistorGet","persistStore","ReactDOM","render","StrictMode","loading","persistor","CssBaseline","document","getElementById"],"mappings":"6QAAaA,EAAkB,kBAMlBC,EAAqB,qBACrBC,EAAmB,iBAAO,CACrCC,KAAMF,IAGKG,EAA0B,0BAK1BC,EAAsB,sBACtBC,EAAoB,SAACC,GAAD,MAAa,CAC5CJ,KAAME,EACNG,QAAS,CAAED,YAGAE,EAAsB,sBCd7BC,EAAe,CAAEC,WAAW,EAAOC,KAAM,GAAIC,KAAM,GCAnDC,EAAW,CACfP,ODEoB,WAAmC,IAAlCQ,EAAiC,uDAAzBL,EAAcM,EAAW,uCAC9Cb,EAAkBa,EAAlBb,KAAMK,EAAYQ,EAAZR,QAEd,OAAQL,GACN,KAAKF,EACD,OAAO,2BACFc,GADL,IAEEF,KAAME,EAAMF,KAAO,IAGzB,KAAKR,EAAsB,IACjBE,EAAWC,EAAXD,OACR,OAAO,2BACFQ,GADL,IAEEJ,WAAW,EACXC,KAAMG,EAAMH,KAAKK,OAAOV,KAG5B,KAAKH,EACH,OAAO,2BACFW,GADL,IAEEJ,WAAW,IAEf,KAAKF,EACH,OAAO,2BACFM,GADL,IAEEJ,WAAW,IAEf,QACE,OAAOI,IC9BXG,eDkC4B,WAAkC,IAAjCH,EAAgC,uDAAxB,CAAEH,KAAM,IAAKI,EAAW,uCACrDb,EAAkBa,EAAlBb,KAAMK,EAAYQ,EAAZR,QACd,OAAQL,GACN,KAAKH,EAAkB,IACbmB,EAAUX,EAAVW,MACFC,IAAoBL,EAAMH,KAAKS,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAOJ,EAAMI,MAC1DC,EAAWJ,EACXL,EAAMH,KAAKa,QAAO,SAACH,GAAD,OAAOA,EAAEC,IAAMJ,EAAMI,MACvCR,EAAMH,KAAKK,OAAOE,GACxB,MAAO,CACLP,KAAMY,GAGV,QACE,OAAOT,KC7CPW,EAAgB,CACpBC,IAAK,OACLC,YACAC,gBAAiBC,IACjBC,UAAW,CAAC,mBAGRC,EAAcC,0BAAgBnB,GAC9BoB,EAAmBC,YAAeT,EAAeM,G,mCCRxCI,EAXDC,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,YAGVC,WAAY,CACVC,WAAW,wB,yHCNFC,EAAoB,SAAC5B,GAAD,OAAWA,EAAMG,eAAeN,MACpDgC,EAAgB,SAAC7B,GAAD,OAAWA,EAAMR,OAAOM,MACxCgC,EAAmB,SAAC9B,GAAD,OAAWA,EAAMR,OAAOI,WAG3CmC,EAAqBC,aANT,SAAChC,GAAD,OAAWA,EAAMR,OAAOK,QAMW,SAACL,GAAD,OAC1DA,K,4DCGIyC,GAAYC,YAAW,CAC3BC,SAAU,CACRC,MAAO,OACPC,QAAS,cAEXC,SAAU,CACRC,YAAa,QACbC,aAAc,WA8BHC,gBAJS,SAACzC,GAAD,MAAY,CAClCG,eAAgByB,EAAkB5B,MAGrByC,EA1BM,SAAC,GAAyB,IAAvBtC,EAAsB,EAAtBA,eAChBuC,EAAUT,KAEhB,OACE,cAACU,GAAA,EAAD,CAAMC,UAAWF,EAAQP,SAAzB,SACGhC,EAAe0C,OAAS1C,EAAe2C,KAAI,SAAC1C,EAAO2C,GAAR,OAC1C,eAACC,GAAA,EAAD,CACEC,QAAM,EAENL,UAAWF,EAAQJ,SACnBY,gBAAgB,EAJlB,UAME,cAACC,GAAA,EAAD,UACE,cAAC,KAAD,MAEF,cAACC,GAAA,EAAD,CAAc5B,QAASpB,EAAMiD,UAPxBN,MASJ,iECxCI,OAA0B,mCCUnCd,GAAYC,YAAW,CAC3BoB,KAAM,CACJlB,MAAO,KAETmB,UAAW,CACTlB,QAAQ,oBAEVgB,MAAO,CACLG,SAAU,SACVC,WAAY,KAEdC,SAAU,CACRF,SAAU,UAEZG,OAAQ,CACNC,aAAa,UAIF,SAASC,KACtB,IAAMnB,EAAUT,KADmB,EAET6B,IAAMC,SAAS,CACvCC,MAAM,IAH2B,mBAE5BhE,EAF4B,KAErBiE,EAFqB,KAM7BC,EAAe,SAACC,EAAQC,GAAT,OAAkB,SAACC,IAErB,YAAfA,EAAMjF,MACS,QAAdiF,EAAMzD,KAA+B,UAAdyD,EAAMzD,MAKhCqD,EAAS,2BAAKjE,GAAN,kBAAcmE,EAASC,OAGjC,OACE,eAAC,IAAME,SAAP,WACE,cAACC,EAAA,EAAD,CACEC,KAAK,QACL5B,UAAWF,EAAQ+B,WACnBC,MAAM,UACNC,aAAW,OACXC,QAASV,EAAa,QAAQ,GALhC,SAOE,cAAC,IAAD,MAGF,cAACW,EAAA,EAAD,CACEV,OAAO,OACPC,KAAMpE,EAAK,KACX8E,QAASZ,EAAa,QAAQ,GAC9BtB,UAAWF,EAAQqC,OAJrB,SAME,sBACEC,KAAK,eACLJ,QAASV,EAAa,QAAQ,GAC9Be,UAAWf,EAAa,QAAQ,GAChCtB,UAAWF,EAAQY,KAJrB,UAME,yBAAQV,UAAWF,EAAQa,UAA3B,UACE,cAAC2B,EAAA,EAAD,CACEC,IAAI,aACJvC,UAAWF,EAAQiB,OACnByB,IAAKzB,KAEP,cAAC0B,EAAA,EAAD,CAAYC,QAAQ,KAAK1C,UAAWF,EAAQW,MAA5C,wBAGA,cAACgC,EAAA,EAAD,CAAYC,QAAQ,QAAQ1C,UAAWF,EAAQgB,SAA/C,kDAKF,cAAC6B,EAAA,EAAD,IAEA,cAAC,GAAD,Y,sDCzCKC,GA3CStD,YAAW,CACjCuD,KAAM,CACJC,OAAQ,OACRC,QAAS,OACTC,SAAU,OACVC,cAAe,UAEjBC,MAAO,CACLJ,OAAQ,IACRtD,MAAO,QAET2D,YAAa,CACXC,cAAe,EACf5D,MAAO,QAET6D,SAAU,CACRzC,SAAU,SACVC,WAAY,IACZG,aAAc,EACdsC,cAAe,EACfC,cAAe,aAEjB9C,MAAO,CACLG,SAAU,SACVI,aAAc,EACdH,WAAY,KAEd2C,SAAU,CACR5C,SAAU,MACV2C,cAAe,aACfzB,MAAO,WAET2B,YAAa,CACXC,WAAY,SACZlE,MAAO,OACPmE,UAAW,QAEbC,KAAM,CACJC,WAAY,KCtBVC,GAAgB,CClBP,IAA0B,+BCA1B,IAA0B,+BCA1B,IAA0B,+BCA1B,IAA0B,+BCA1B,IAA0B,+BCA1B,IAA0B,gCN6D1BjE,gBAJS,SAACzC,GAAD,MAAY,CAClCG,eAAgByB,EAAkB5B,MAGrByC,EAxCG,SAAC,GAA4D,IAA1DrC,EAAyD,EAAzDA,MAAOuG,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,kBAAmBzG,EAAqB,EAArBA,eACjDuC,EAAU8C,KAEhB,OACE,eAACqB,GAAA,EAAD,CAAMjE,UAAWF,EAAQ+C,KAAzB,UACE,cAACqB,GAAA,EAAD,CACElE,UAAWF,EAAQoD,MACnBiB,MAAOL,GAAcC,GACrBtD,MAAM,gBAER,eAAC2D,GAAA,EAAD,CAAapE,UAAWF,EAAQqD,YAAhC,UACE,cAACV,EAAA,EAAD,CAAYC,QAAQ,KAAK1C,UAAWF,EAAQuD,SAA5C,SACG7F,EAAM6F,WAET,cAACZ,EAAA,EAAD,CAAYC,QAAQ,KAAK1C,UAAWF,EAAQW,MAA5C,SACGjD,EAAMiD,QAET,cAACgC,EAAA,EAAD,CAAYC,QAAQ,QAAQ1C,UAAWF,EAAQ0D,SAA/C,SACGhG,EAAMgG,cAGX,cAACa,GAAA,EAAD,CAAaC,gBAAc,EAACtE,UAAWF,EAAQ2D,YAA/C,SACE,cAAC9B,EAAA,EAAD,CACEI,aAAW,mBACX/B,UAAWF,EAAQ8D,KACnB5B,QAAS,kBAAMgC,EAAkBxG,IACjCsE,MAAOvE,EAAeG,MAAK,SAACC,GAAD,OAAOA,EAAEC,KAAOJ,EAAMI,MAAM,UAAY,UAJrE,SAME,cAAC,KAAD,cOxBK2G,GAlBW,SAACC,GAAD,OAAe,SAACC,GACxC,IAAMC,EAAiBC,uBAAY,SAACC,GAClC,IAAIC,sBAAqB,SAACC,GACxBA,EAAQC,SAAQ,SAACC,GACXA,EAAGC,kBAAoB,GACzBR,EAASlI,WAGZ2I,QAAQN,KACV,IAEHO,qBAAU,WACJX,EAAUY,SACZV,EAAeF,EAAUY,WAE1B,CAACV,EAAgBF,M,6BCITa,GAAkB,SAAC7H,GAAD,OAAW,SAACiH,GACzCA,EjB1B4B,SAACjH,GAAD,MAAY,CACxChB,KAAMH,EACNQ,QAAS,CAAEW,UiBwBF8H,CAAe9H,MCZpB6B,GAAYC,aAAW,SAACb,GAAD,MAAY,CACvCoE,KAAM,CACJ0C,SAAU,EACV9F,QAAS,mBAmDEI,gBAZS,SAACzC,GAAD,MAAY,CAClCJ,UAAWkC,EAAiB9B,GAC5BoI,gBAAiBrG,EAAmB/B,GACpCF,KAAM+B,EAAc7B,OAGK,SAACqH,GAAD,MAAe,CACxCgB,WAAY,SAACvI,GAAD,OAAUuH,EDxDE,SAAAvH,GAAI,gDAAI,WAAOuH,GAAP,kBAAAiB,EAAA,sEAE9BjB,EjBEuC,CACzCjI,KAAMC,IiBL0B,SAIPkJ,MAAM,4CAAD,OACkBzI,EADlB,cAJE,cAIxB0I,EAJwB,gBAOTA,EAASC,OAPA,OAOxBjJ,EAPwB,OAQ9B6H,EAAS9H,EAAkBC,IARG,kDAU9B6H,EjBKoC,CACtCjI,KAAMM,IiBhB0B,0DAAJ,sDCwDG2I,CAAWvI,KAC1CqH,kBAAmB,SAACuB,GAAD,OAASrB,EAASF,GAAkBuB,KACvD9B,kBAAmB,SAACxG,GAAD,OAAWiH,EAASY,GAAgB7H,QAG1CqC,EA/CG,SAAC,GAA2F,IAAzF4F,EAAwF,EAAxFA,WAAYzI,EAA4E,EAA5EA,UAAWwI,EAAiE,EAAjEA,gBAAiBtI,EAAgD,EAAhDA,KAAMqH,EAA0C,EAA1CA,kBAAmBP,EAAuB,EAAvBA,kBAC9ElE,EAAUT,KACZ0G,EAAoBC,iBAAO,MAE/BzB,EAAkBwB,GAClBZ,qBAAU,WACRM,EAAWvI,KACV,CAACA,IAEJ,IAAI6G,EAAW,EACf,OACE,qBAAK/D,UAAWF,EAAQ+C,KAAxB,SACE,eAACoD,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACGX,EAAgBtF,KAAI,SAAC1C,EAAO4I,GAAR,OACnB,cAACH,GAAA,EAAD,CAAkBI,GAAI,EAAGC,GAAI,EAAGC,MAAI,EAApC,SACE,cAAC,GAAD,CACE/I,MAAOA,EACPwG,kBAAmBA,EACnBD,SAAWA,EAAWA,GAAY,EAAI,EAAIA,EAAW,KAJ9CqC,MASZpJ,GAAa,qBAAKwJ,MAAO,CAAChH,MAAO,QAApB,SAA6B,cAACiH,EAAA,EAAD,MAE3C,qBACE7I,GAAG,uBACH4I,MAAO,CAAEE,OAAQ,iBACjBZ,IAAKC,YCvCT1G,GAAYC,aAAW,iBAAO,CAClCmB,MAAO,CACLG,SAAU,cAwBC+F,GApBH,WACR,IAAM7G,EAAUT,KAEhB,OACE,sBAAKW,UAAWF,EAAQ+C,KAAxB,UACE,cAAC+D,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,WACE,cAAC7F,GAAD,IACA,cAACwB,EAAA,EAAD,CAAYC,QAAQ,KAAK1C,UAAWF,EAAQW,MAA5C,4BAKJ,cAACsG,EAAA,EAAD,CAAWC,SAAS,KAApB,SACE,cAAC,GAAD,UCnBKC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCMRQ,GnBWJC,sBAAYpJ,EAAkBqJ,8BAAoBC,0BAAgBC,OmBV9DC,GAAeC,YAAaN,IAElCO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUT,MAAOA,GAAjB,SACE,cAAC,cAAD,CACEU,QACE,qBAAK5B,MAAO,CAAEhH,MAAO,QAArB,SACE,cAACiH,EAAA,EAAD,MAGJ4B,UAAWN,GANb,SAQE,cAAC,IAAD,CAAkBtJ,MAAOA,EAAzB,SACE,cAAC6J,EAAA,EAAD,UACE,cAAC,GAAD,cAMVC,SAASC,eAAe,SAM1BvB,O","file":"static/js/main.0dc67304.chunk.js","sourcesContent":["export const TOGGLE_FAVORITE = \"TOGGLE_FAVORITE\";\r\nexport const toggleFavorite = (flyer) => ({\r\n  type: TOGGLE_FAVORITE,\r\n  payload: { flyer },\r\n});\r\n\r\nexport const ADVANCE_FLYER_PAGE = \"ADVANCE_FLYER_PAGE\";\r\nexport const advanceFlyerPage = () => ({\r\n  type: ADVANCE_FLYER_PAGE,\r\n});\r\n\r\nexport const LOAD_FLYERS_IN_PROGRESS = \"LOAD_FLYERS_IN_PROGRESS\";\r\nexport const loadFlyersInProgress = () => ({\r\n  type: LOAD_FLYERS_IN_PROGRESS,\r\n});\r\n\r\nexport const LOAD_FLYERS_SUCCESS = \"LOAD_FLYERS_SUCCESS\";\r\nexport const loadFlyersSuccess = (flyers) => ({\r\n  type: LOAD_FLYERS_SUCCESS,\r\n  payload: { flyers },\r\n});\r\n\r\nexport const LOAD_FLYERS_FAILURE = \"LOAD_FLYERS_FAILURE\";\r\nexport const loadFlyersFailure = () => ({\r\n  type: LOAD_FLYERS_FAILURE,\r\n});\r\n","import {\r\n  LOAD_FLYERS_FAILURE,\r\n  LOAD_FLYERS_IN_PROGRESS,\r\n  LOAD_FLYERS_SUCCESS,\r\n  TOGGLE_FAVORITE,\r\n  ADVANCE_FLYER_PAGE\r\n} from \"./actions\";\r\n\r\nconst initialState = { isLoading: false, data: [], page: 1};\r\n\r\n\r\nexport const flyers = (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case ADVANCE_FLYER_PAGE: {\r\n        return {\r\n          ...state,\r\n          page: state.page + 1,\r\n        };\r\n    };\r\n    case LOAD_FLYERS_SUCCESS: {\r\n      const { flyers } = payload;\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        data: state.data.concat(flyers),\r\n      };\r\n    }\r\n    case LOAD_FLYERS_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    case LOAD_FLYERS_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const favoriteFlyers = (state = { data: []}, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case TOGGLE_FAVORITE: {\r\n      const { flyer } = payload;\r\n      const isAlreadyFavorite = state.data.some((f) => f.id === flyer.id) ? true : false;\r\n      const newState = isAlreadyFavorite\r\n          ? state.data.filter((f) => f.id != flyer.id)\r\n          : state.data.concat(flyer);\r\n      return {\r\n        data: newState\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport autoMergeLevel2 from \"redux-persist/lib/stateReconciler/autoMergeLevel2\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { flyers, favoriteFlyers } from \"./flyers/reducers\";\n\nconst reducers = {\n  flyers,\n  favoriteFlyers\n};\n\nconst persistConfig = {\n  key: \"root\",\n  storage,\n  stateReconciler: autoMergeLevel2,\n  whitelist: [\"favoriteFlyers\"],\n};\n\nconst rootReducer = combineReducers(reducers);\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const configureStore = () =>\n  createStore(persistedReducer, composeWithDevTools(applyMiddleware(thunk)));\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#6200ee\",\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: `'Lato', sans-serif`,\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getFlyers = (state) => state.flyers.data;\r\nexport const getFavoriteFlyers = (state) => state.favoriteFlyers.data;\r\nexport const getFlyersPage = (state) => state.flyers.page;\r\nexport const getFlyersLoading = (state) => state.flyers.isLoading;\r\n\r\n\r\nexport const getPublishedFlyers = createSelector(getFlyers, (flyers) =>\r\n  flyers\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getFavoriteFlyers } from \"./selectors\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  fullList: {\r\n    width: \"auto\",\r\n    padding: \".5rem 1rem\",\r\n  },\r\n  listItem: {\r\n    paddingLeft: \".5rem\",\r\n    paddingRight: \".5rem\",\r\n  },\r\n});\r\n\r\nconst FavoriteList = ({ favoriteFlyers  }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <List className={classes.fullList}>\r\n      {favoriteFlyers.length ? favoriteFlyers.map((flyer, i) => (\r\n        <ListItem\r\n          button\r\n          key={i}\r\n          className={classes.listItem}\r\n          disableGutters={true}\r\n        >\r\n          <ListItemIcon>\r\n            <FavoriteIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary={flyer.title} />\r\n        </ListItem>\r\n      )) : <div>Add some favorite flyers!</div>}\r\n    </List>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  favoriteFlyers: getFavoriteFlyers(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(FavoriteList);","export default __webpack_public_path__ + \"static/media/avatar.00fb0264.png\";","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport FavoriteList from \"../flyers/FavoriteList\";\r\nimport avatar from \"../img/avatar.png\"\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  drawerTop: {\r\n    padding: `2rem 1rem 0.5rem`,\r\n  },\r\n  title: {\r\n    fontSize: \"1.2rem\",\r\n    fontWeight: 600,\r\n  },\r\n  subTitle: {\r\n    fontSize: \"0.8rem\",\r\n  },\r\n  avatar: {\r\n    marginBottom: `1rem`,\r\n  },\r\n});\r\n\r\nexport default function LeftDrawer() {\r\n  const classes = useStyles();\r\n  const [state, setState] = React.useState({\r\n    left: false,\r\n  });\r\n\r\n  const toggleDrawer = (anchor, open) => (event) => {\r\n    if (\r\n      event.type === \"keydown\" &&\r\n      (event.key === \"Tab\" || event.key === \"Shift\")\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setState({ ...state, [anchor]: open });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <IconButton\r\n        edge=\"start\"\r\n        className={classes.menuButton}\r\n        color=\"inherit\"\r\n        aria-label=\"menu\"\r\n        onClick={toggleDrawer(\"left\", true)}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n\r\n      <Drawer\r\n        anchor=\"left\"\r\n        open={state[\"left\"]}\r\n        onClose={toggleDrawer(\"left\", false)}\r\n        className={classes.drawer}\r\n      >\r\n        <div\r\n          role=\"presentation\"\r\n          onClick={toggleDrawer(\"left\", false)}\r\n          onKeyDown={toggleDrawer(\"left\", false)}\r\n          className={classes.list}\r\n        >\r\n          <header className={classes.drawerTop}>\r\n            <Avatar\r\n              alt=\"Remy Sharp\"\r\n              className={classes.avatar}\r\n              src={avatar}\r\n            />\r\n            <Typography variant=\"h5\" className={classes.title}>\r\n              Favourites\r\n            </Typography>\r\n            <Typography variant=\"body1\" className={classes.subTitle}>\r\n              The list of your preferred flyers\r\n            </Typography>\r\n          </header>\r\n\r\n          <Divider />\r\n\r\n          <FavoriteList />\r\n        </div>\r\n      </Drawer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst FlyerItemStyles = makeStyles({\r\n  root: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"column\",\r\n  },\r\n  media: {\r\n    height: 160,\r\n    width: \"100%\",\r\n  },\r\n  cartContent: {\r\n    paddingBottom: 0,\r\n    width: \"100%\",\r\n  },\r\n  retailer: {\r\n    fontSize: \"0.7rem\",\r\n    fontWeight: 600,\r\n    marginBottom: 5,\r\n    letterSpacing: 1,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  title: {\r\n    fontSize: \"1.1rem\",\r\n    marginBottom: 5,\r\n    fontWeight: 600,\r\n  },\r\n  category: {\r\n    fontSize: \"0.9\",\r\n    textTransform: \"capitalize\",\r\n    color: \"#9c9c9c\",\r\n  },\r\n  cardActions: {\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    marginTop: \"auto\",\r\n  },\r\n  icon: {\r\n    paddingTop: 0,\r\n  },\r\n});\r\n\r\n\r\nexport default FlyerItemStyles;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport FlyerItemStyles from './FlyerItemStyles';\r\nimport {getFavoriteFlyers} from \"./selectors\";\r\nimport f1 from \"../img/f1.jpg\";\r\nimport f2 from \"../img/f2.jpg\";\r\nimport f3 from \"../img/f3.jpg\";\r\nimport f4 from \"../img/f4.jpg\";\r\nimport f5 from \"../img/f5.jpg\";\r\nimport f6 from \"../img/f6.jpg\";\r\n\r\nconst possibleImage = [f1,f2,f3,f4,f5,f6];\r\n\r\n\r\nconst FlyerItem = ({ flyer, imageNum, onFavoritePressed, favoriteFlyers }) => {\r\n  const classes = FlyerItemStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardMedia\r\n        className={classes.media}\r\n        image={possibleImage[imageNum]}\r\n        title=\"Paella dish\"\r\n      />\r\n      <CardContent className={classes.cartContent}>\r\n        <Typography variant=\"h3\" className={classes.retailer}>\r\n          {flyer.retailer}\r\n        </Typography>\r\n        <Typography variant=\"h2\" className={classes.title}>\r\n          {flyer.title}\r\n        </Typography>\r\n        <Typography variant=\"body2\" className={classes.category}>\r\n          {flyer.category}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing className={classes.cardActions}>\r\n        <IconButton\r\n          aria-label=\"add to favorites\"\r\n          className={classes.icon}\r\n          onClick={() => onFavoritePressed(flyer)}\r\n          color={favoriteFlyers.some((f) => f.id === flyer.id) ? \"primary\" : \"default\"}\r\n        >\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  favoriteFlyers: getFavoriteFlyers(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(FlyerItem);","export default __webpack_public_path__ + \"static/media/f1.23bf7fdd.jpg\";","export default __webpack_public_path__ + \"static/media/f2.3952875c.jpg\";","export default __webpack_public_path__ + \"static/media/f3.d7f74bde.jpg\";","export default __webpack_public_path__ + \"static/media/f4.132e4c4d.jpg\";","export default __webpack_public_path__ + \"static/media/f5.0f8d8e31.jpg\";","export default __webpack_public_path__ + \"static/media/f6.1629e78f.jpg\";","/* eslint-disable */\r\n\r\nimport { useEffect, useCallback, useRef } from \"react\";\r\nimport {\r\n  advanceFlyerPage,\r\n} from \"../flyers/actions\";\r\n// infinite scrolling with intersection observer\r\nconst useInfiniteScroll = (scrollRef) => (dispatch) => {\r\n  const scrollObserver = useCallback((node) => {\r\n    new IntersectionObserver((entries) => {\r\n      entries.forEach((en) => {\r\n        if (en.intersectionRatio > 0) {\r\n          dispatch(advanceFlyerPage());\r\n        }\r\n      });\r\n    }).observe(node);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollObserver(scrollRef.current);\r\n    }\r\n  }, [scrollObserver, scrollRef]);\r\n};\r\n\r\nexport default useInfiniteScroll;","import {\r\n  loadFlyersInProgress,\r\n  loadFlyersSuccess,\r\n  loadFlyersFailure,\r\n  toggleFavorite,\r\n  advanceFlyerPage,\r\n} from \"./actions\";\r\n\r\nexport const loadFlyers = page => async (dispatch) => {\r\n  try {\r\n    dispatch(loadFlyersInProgress());\r\n    \r\n    const response = await fetch(\r\n      `http://localhost:3000/api/v1/flyers?page=${page}&limit=12`\r\n    );\r\n    const flyers = await response.json();\r\n    dispatch(loadFlyersSuccess(flyers));\r\n  } catch (e) {\r\n    dispatch(loadFlyersFailure());\r\n  }\r\n};\r\n\r\nexport const advancePage = () => async (dispatch) =>{\r\n  dispatch(advanceFlyerPage());\r\n}\r\n\r\nexport const toggleFavorites = (flyer) => (dispatch) => {\r\n  dispatch(toggleFavorite(flyer));\r\n};","import React, { useEffect, useRef, useCallback } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport FlyerItem from \"./FlyerItem\";\r\nimport useInfiniteScroll from \"../customHooks/useInfiniteScroll\";\r\n\r\nimport {\r\n  getPublishedFlyers,\r\n  getFlyersLoading,\r\n  getFlyersPage\r\n} from \"./selectors\";\r\nimport { loadFlyers, toggleFavorites } from \"./thunks\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: \"2rem 0.5rem\",\r\n  },\r\n}));\r\n\r\nconst FlyerList = ({ loadFlyers, isLoading, publishedFlyers, page, useInfiniteScroll, onFavoritePressed}) => {\r\n  const classes = useStyles();\r\n  let bottomBoundaryRef = useRef(null);\r\n\r\n  useInfiniteScroll(bottomBoundaryRef);\r\n  useEffect(() => {\r\n    loadFlyers(page);\r\n  }, [page]);\r\n\r\n  let imageNum = 0;\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={2}>\r\n        {publishedFlyers.map((flyer, index) => (\r\n          <Grid key={index} xs={6} sm={3} item>\r\n            <FlyerItem\r\n              flyer={flyer}\r\n              onFavoritePressed={onFavoritePressed}\r\n              imageNum={(imageNum = imageNum >= 5 ? 0 : imageNum + 1)}\r\n            />\r\n          </Grid>\r\n        ))}\r\n\r\n        {isLoading && <div style={{width: \"100%\"}}><LinearProgress /></div>}\r\n\r\n        <div\r\n          id=\"page-bottom-boundary\"\r\n          style={{ border: \"1px solid red\" }}\r\n          ref={bottomBoundaryRef}\r\n        ></div>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: getFlyersLoading(state),\r\n  publishedFlyers: getPublishedFlyers(state),\r\n  page: getFlyersPage(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  loadFlyers: (page) => dispatch(loadFlyers(page)),\r\n  useInfiniteScroll: (ref) => dispatch(useInfiniteScroll(ref)),\r\n  onFavoritePressed: (flyer) => dispatch(toggleFavorites(flyer)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FlyerList);\r\n","import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\n\nimport LeftDrawer from \"./common/Drawer\";\nimport FlyerList from \"./flyers/FlyersList\";\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    fontSize: \"1.5rem\"\n  },\n}));\n\nconst App = () => {\n    const classes = useStyles();\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <LeftDrawer />\n            <Typography variant=\"h1\" className={classes.title}>\n              Shopfully\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Container maxWidth=\"md\">\n          <FlyerList />\n        </Container>\n      </div>\n    );\n};\n\nexport default App;\n\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { persistStore } from \"redux-persist\";\nimport { PersistGate } from \"redux-persist/lib/integration/react\";\nimport { Provider } from \"react-redux\";\nimport { configureStore } from \"./store\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport theme from \"./theme/theme.js\";\nimport App from \"./App.js\";\nimport reportWebVitals from './reportWebVitals';\n\nconst store = configureStore();\nconst persistorGet = persistStore(store);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate\n        loading={\n          <div style={{ width: \"100%\" }}>\n            <LinearProgress />\n          </div>\n        }\n        persistor={persistorGet}\n      >\n        <MuiThemeProvider theme={theme}>\n          <CssBaseline>\n            <App />\n          </CssBaseline>\n        </MuiThemeProvider>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}